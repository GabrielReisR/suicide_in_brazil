---
title: "Suicídio no Brasil"
author: "Gabriel R. R."
date: "4/28/2021"
output: 
  html_document:
    toc: true
    toc_float: true
    collapsed: false
    smooth_scroll: true
    df_print: paged
    code_folding: show
---
## Suicídio no Brasil

### Extração de dados
Os dados foram extraídos utilizando-se a ferramenta [PySUS](https://github.com/AlertaDengue/PySUS),
seguindo-se o tutorial descrito [aqui](https://medium.com/psicodata/baixando-e-processando-dados-do-datasus-sobre-suic%C3%ADdio-com-python-656afa17f6ad?source=friends_link&sk=4e94866d21707aefec13aafe5923d6f1).
Foram baixados os dados de 2010 a 2019, contemplando 10 anos de uma série histórica. Os dados foram pré-processados em Python, podendo todos os procedimentos iniciais de pré-processamento
serem verificados [neste link](https://github.com/GabrielReisR/suicide_in_brazil/blob/main/getting_pysus_data_2010_2019.ipynb). As análises subsequentes foram realizadas em R, conforme é descrito
[nesse documento aqui](https://github.com/GabrielReisR/suicide_in_brazil/blob/main/analyses.R).

Qualquer dúvida, comentário ou retificação podem ser enviadas para reisrgabriel@gmail.com

### Variação ao longo dos anos
![](D:/Data Science/Projetos/suicide_in_brazil/figures/suicide_var_by_year.png) 

### Visualização da série histórica

![](D:/Data Science/Projetos/suicide_in_brazil/figures/suicides_across_years.gif) 

### Suicídios por sexo

Em geral, os homens cometem mais suicídios que as mulheres no Brasil. O número absoluto de suicídios registrados em homens foi de 88394 para homens (78,58%) e 24075	para mulheres (21,40%).

```{r tabela de sexo por ano, echo = F}
df %>% 
  group_by(ano, SEXO) %>% 
  count()
```

![](D:/Data Science/Projetos/suicide_in_brazil/figures/suicides_by_sex_by_year.gif)

## Ocupações

Desde 2010 até 2019, apenas 10 profissões/ocupações estão presentes no topo dos casos de suicídio. Em números absolutos, a ordem de suicídios por profissão é a seguinte:

```{r tabela de ocupacoes por ano, echo = F}
df$OCUP %<>% as.factor

df$OCUP[str_detect(df$OCUP, "\\d")] <- NA

df %>%
  
  # Cleaning
  filter(OCUP != 'NA') %>% 
  
  group_by(OCUP) %>% 
  
  summarize(n = n()) %>%
  
  arrange(desc(n), .by_group = T) %>% 
  
  mutate(ordem = 1:n())
```

Por ano, percebe-se uma evolução no número de casos registrados de suicídios por estudantes. Separando-se apenas as 10 profissões mais relevantes a cada ano, a ordem é a seguinte:

### Suicídios por ocupações
![](D:/Data Science/Projetos/suicide_in_brazil/figures/suicides_by_ocup.gif) 

### Suicídios de estudantes
```{r student_suicide, echo = F, dpi = 500}
df %>%
  
  # Cleaning
  filter(OCUP != 'NA') %>% 
  
  mutate(ano = as.factor(ano)) %>% 
  
  group_by(ano) %>% 
  
  count() %>%
  
  # Plot
  ggplot(aes(x = ano, y = n)) +
  
  # Geom
  geom_bar(stat="identity", fill="#f68060", width = .8) +
  
  # Labels
  labs(x = '',
       y = 'Número de Mortes',
       title = 'Número de Suicídios de Estudantes ao Longo dos Anos') +
  
  # Flipping coordinates
  coord_flip() +
  
  # Theme
  theme_bw() +
  
  # Removing legend title
  theme(legend.position = "none") + 
  
  # Removing legend title
  theme(legend.position = "none",
        panel.grid.minor.x = element_blank(),
        panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank(),
        axis.ticks.x = element_blank(),
        panel.border = element_blank())
```

